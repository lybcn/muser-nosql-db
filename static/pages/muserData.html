<table id="table" data-options="">
    <thead>
    <tr>
        <th data-options="field:'ck',checkbox:true"></th>
        <th data-options="field:'itemid',width:80">时间</th>
        <th data-options="field:'productid',width:100">文件路径</th>
        <th data-options="field:'listprice',width:80,align:'center'">频率</th>
        <th data-options="field:'unitcost',width:160,align:'center'">Kind</th>
        <th data-options="field:'status',width:80,align:'center'">Attribute</th>
        <th data-options="field:'operate',align:'center',formatter:operate">Operate</th>
        <th data-options="field:'button',width:120,align:'center',formatter:button">Button</th>
    </tr>
    </thead>
</table>
<script>

    function operate(value, row, index) {
        return "<a href='javascript:void(0)' class='operate' data-options='value:" + value + ",iconCls:\"icon-set\"'></a>";
    }

    function button(value, row, index) {
        return "<a href='#' class='button-delete button-danger'>删除</a> <a href='#' class='button-edit button-default'>编辑</a>";
    }

    $(function () {

        $('#table').datagrid({
            cls: "theme-datagrid",
            title: "Basic DataGrid",
            singleSelect: true,
            //showFooter:true,
            cache: false,
            rownumbers: true,//显示序号
            pagination: true,
            pageSize: 10,
            collapsible: true,
            url: '/static/pages/datagrid_data4.json',
            onLoadSuccess: function () {
                $('.operate').menubutton({
                    plain: false,
                    menu: '#operate_menu'
                });
                $('#operate_menu').menu({
                    onClick: function (item) {

                        var a = $('.operate').menubutton("options");
                        switch (item.name) {
                            case "undo":
                                alert("undo " + a.value);
                                break;
                            case "redo":
                                alert("redo " + a.value);
                                break;
                            case "cut":
                                alert("cut " + a.value);
                                break;
                            case "copy":
                                alert("copy " + a.value);
                                break;
                            case "paste":
                                alert("paste " + a.value);
                                break;
                            case "delete":
                                alert("delete " + a.value);
                                break;
                        }
                    }
                });

                $('.progressbar').progressbar({});

                $('.switchbutton').switchbutton({
                    height: 23
                });

                $('.button-delete').linkbutton({});
                $('.button-edit').linkbutton({});

                $('.text').textbox({
                    width: 70,
                    height: 30
                })


                $('.operate-append,.operate-edit,.operate-delete').linkbutton({});
                $('.operate-append').on('click', function () {
                    var a = $(this).linkbutton("options");
                    alert("append " + a.value);
                });
                $('.operate-edit').on('click', function () {
                    var a = $(this).linkbutton("options");
                    alert("edit " + a.value);
                });
                $('.operate-delete').on('click', function () {
                    var a = $(this).linkbutton("options");
                    alert("delete " + a.value);
                });
            }
        });


    })
</script>